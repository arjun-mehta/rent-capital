<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Generate OpenGraph Image</title>
  <style>
    @font-face {
      font-family: 'Emilio';
      src: url('/fonts/Emilio-Light.otf') format('opentype');
      font-weight: 300;
      font-style: normal;
    }
    body {
      margin: 0;
      padding: 20px;
      font-family: Arial, sans-serif;
      background: #f0f0f0;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      padding: 20px;
      border-radius: 8px;
    }
    canvas {
      border: 1px solid #ddd;
      margin: 20px 0;
      display: block;
      max-width: 100%;
    }
    button {
      padding: 10px 20px;
      background: #3F5A36;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      margin-right: 10px;
    }
    button:hover {
      background: #2d4226;
    }
    .instructions {
      margin-top: 20px;
      padding: 15px;
      background: #f9f9f9;
      border-radius: 4px;
    }
    .preview {
      margin-top: 20px;
      padding: 15px;
      background: #f9f9f9;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>OpenGraph Image Generator</h1>
    <p>This will generate an OpenGraph image with the Rent Capital logo and hero text on the background image.</p>
    
    <canvas id="ogCanvas" width="1200" height="630"></canvas>
    
    <div>
      <button onclick="generateOGImage()">Generate Image</button>
      <button onclick="downloadOGImage()">Download PNG</button>
    </div>
    
    <div class="instructions">
      <h3>Instructions:</h3>
      <ol>
        <li>Click "Generate Image" to render the OpenGraph image</li>
        <li>Click "Download PNG" to save the image</li>
        <li>Save the file as <code>og-image.png</code> in the <code>public/opengraph</code> folder</li>
        <li>The image will be 1200x630 pixels (standard OpenGraph size)</li>
      </ol>
    </div>
  </div>

  <script>
    const canvas = document.getElementById('ogCanvas');
    const ctx = canvas.getContext('2d');
    
    // Standard OpenGraph image dimensions
    const width = 1200;
    const height = 630;
    
    async function generateOGImage() {
      // Load background image
      const bgImage = new Image();
      bgImage.crossOrigin = 'anonymous';
      
      bgImage.onload = function() {
        // Draw background image (cover the canvas)
        ctx.drawImage(bgImage, 0, 0, width, height);
        
        // Draw dark overlay (70% opacity)
        ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
        ctx.fillRect(0, 0, width, height);
        
        // Wait for font to load, then draw text
        if (document.fonts) {
          document.fonts.ready.then(() => {
            drawText();
          });
        } else {
          setTimeout(drawText, 500);
        }
      };
      
      bgImage.onerror = function() {
        // If image fails to load, use cream background
        ctx.fillStyle = '#EFE7E3';
        ctx.fillRect(0, 0, width, height);
        drawText();
      };
      
      bgImage.src = '/assets/homepage/neighbhorhood.png';
    }
    
    function drawText() {
      // Set font for logo text (Emilio, font-black like on site)
      ctx.font = '900 80px Emilio, sans-serif';
      ctx.fillStyle = '#FFFFFF';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      
      // Draw "Rent Capital" logo text (centered, pushed down)
      const logoY = 200;
      ctx.fillText('Rent Capital', width / 2, logoY);
      
      // Set font for hero text (Emilio-Light, larger)
      ctx.font = '300 72px Emilio, sans-serif';
      ctx.fillStyle = '#FFFFFF';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      
      // Draw "Get your future rent" (first line, centered, pushed down)
      const line1Y = height / 2 + 20;
      ctx.fillText('Get your future rent', width / 2, line1Y);
      
      // Draw "income upfront" (second line, centered, pushed down)
      const line2Y = height / 2 + 100;
      ctx.fillText('income upfront', width / 2, line2Y);
    }
    
    function downloadOGImage() {
      canvas.toBlob(function(blob) {
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'og-image.png';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      });
    }
    
    // Auto-generate on load
    window.addEventListener('load', function() {
      // Wait for font to load
      if (document.fonts) {
        document.fonts.ready.then(function() {
          generateOGImage();
        });
      } else {
        setTimeout(generateOGImage, 500);
      }
    });
  </script>
</body>
</html>

